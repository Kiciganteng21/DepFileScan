<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 24px; font-weight: bold; fill: #2c3e50; }
      .subtitle { font-family: Arial, sans-serif; font-size: 14px; fill: #34495e; }
      .box { fill: #ecf0f1; stroke: #34495e; stroke-width: 2; rx: 8; }
      .parser-box { fill: #3498db; stroke: #2980b9; stroke-width: 2; rx: 8; }
      .scanner-box { fill: #e74c3c; stroke: #c0392b; stroke-width: 2; rx: 8; }
      .detector-box { fill: #f39c12; stroke: #e67e22; stroke-width: 2; rx: 8; }
      .client-box { fill: #2ecc71; stroke: #27ae60; stroke-width: 2; rx: 8; }
      .cli-box { fill: #9b59b6; stroke: #8e44ad; stroke-width: 2; rx: 8; }
      .white-text { font-family: Arial, sans-serif; font-size: 12px; fill: white; font-weight: bold; }
      .dark-text { font-family: Arial, sans-serif; font-size: 12px; fill: #2c3e50; }
      .arrow { stroke: #34495e; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#34495e" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" class="title">Python Dependency Reader Architecture</text>
  
  <!-- CLI Layer -->
  <rect x="50" y="60" width="700" height="80" class="cli-box"/>
  <text x="400" y="85" text-anchor="middle" class="white-text">CLI Interface (Click Framework)</text>
  <text x="100" y="105" class="white-text">parse</text>
  <text x="200" y="105" class="white-text">scan</text>
  <text x="300" y="105" class="white-text">info</text>
  <text x="500" y="105" class="white-text">--recursive</text>
  <text x="600" y="105" class="white-text">--check-pypi</text>
  <text x="700" y="105" class="white-text">--log</text>
  
  <!-- Parsers Layer -->
  <rect x="50" y="180" width="200" height="120" class="parser-box"/>
  <text x="150" y="205" text-anchor="middle" class="white-text">File Parsers</text>
  <text x="70" y="225" class="white-text">• RequirementsParser</text>
  <text x="70" y="245" class="white-text">• PipfileParser</text>
  <text x="70" y="265" class="white-text">• PyprojectParser</text>
  <text x="70" y="285" class="white-text">requirements.txt, Pipfile, pyproject.toml</text>
  
  <!-- Python Scanner -->
  <rect x="300" y="180" width="200" height="120" class="scanner-box"/>
  <text x="400" y="205" text-anchor="middle" class="white-text">Python Scanner</text>
  <text x="320" y="225" class="white-text">• AST Analysis</text>
  <text x="320" y="245" class="white-text">• Import Extraction</text>
  <text x="320" y="265" class="white-text">• Stdlib Filtering</text>
  <text x="320" y="285" class="white-text">Analyzes .py files</text>
  
  <!-- Conflict Detector -->
  <rect x="550" y="180" width="200" height="120" class="detector-box"/>
  <text x="650" y="205" text-anchor="middle" class="white-text">Conflict Detector</text>
  <text x="570" y="225" class="white-text">• Version Analysis</text>
  <text x="570" y="245" class="white-text">• Cross-file Conflicts</text>
  <text x="570" y="265" class="white-text">• Dev vs Prod</text>
  <text x="570" y="285" class="white-text">Packaging library</text>
  
  <!-- Models Layer -->
  <rect x="50" y="340" width="300" height="80" class="box"/>
  <text x="200" y="365" text-anchor="middle" class="dark-text">Data Models</text>
  <text x="70" y="385" class="dark-text">Dependency • DependencyFile • ConflictReport</text>
  <text x="70" y="405" class="dark-text">Type-safe dataclasses with packaging integration</text>
  
  <!-- PyPI Client -->
  <rect x="400" y="340" width="200" height="80" class="client-box"/>
  <text x="500" y="365" text-anchor="middle" class="white-text">PyPI Client</text>
  <text x="420" y="385" class="white-text">• Rate Limiting</text>
  <text x="420" y="405" class="white-text">• Local Caching</text>
  
  <!-- Utils -->
  <rect x="650" y="340" width="100" height="80" class="box"/>
  <text x="700" y="365" text-anchor="middle" class="dark-text">Utils</text>
  <text x="670" y="385" class="dark-text">Formatting</text>
  <text x="670" y="405" class="dark-text">Validation</text>
  
  <!-- Output Layer -->
  <rect x="50" y="460" width="700" height="80" class="box"/>
  <text x="400" y="485" text-anchor="middle" class="dark-text">Output Formats & Logging</text>
  <text x="100" y="505" class="dark-text">JSON</text>
  <text x="200" y="505" class="dark-text">Table</text>
  <text x="300" y="505" class="dark-text">Simple</text>
  <text x="500" y="505" class="dark-text">Colored Console</text>
  <text x="650" y="505" class="dark-text">Log Files</text>
  
  <!-- Arrows -->
  <line x1="150" y1="140" x2="150" y2="180" class="arrow"/>
  <line x1="400" y1="140" x2="400" y2="180" class="arrow"/>
  <line x1="650" y1="140" x2="650" y2="180" class="arrow"/>
  
  <line x1="150" y1="300" x2="200" y2="340" class="arrow"/>
  <line x1="400" y1="300" x2="200" y2="340" class="arrow"/>
  <line x1="650" y1="300" x2="200" y2="340" class="arrow"/>
  
  <line x1="500" y1="300" x2="500" y2="340" class="arrow"/>
  <line x1="650" y1="300" x2="700" y2="340" class="arrow"/>
  
  <line x1="400" y1="420" x2="400" y2="460" class="arrow"/>
  
  <!-- External Services -->
  <circle cx="720" cy="250" r="20" fill="#f1c40f" stroke="#f39c12" stroke-width="2"/>
  <text x="720" y="255" text-anchor="middle" class="dark-text" font-size="10">PyPI</text>
  <line x1="600" y1="250" x2="700" y2="250" class="arrow"/>
</svg>